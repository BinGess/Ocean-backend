# MindFlow Backend å¼€å‘è¿›åº¦

## å·²å®ŒæˆåŠŸèƒ½ âœ…

### 1. é¡¹ç›®åˆå§‹åŒ–
- âœ… NestJS é¡¹ç›®æ­å»º
- âœ… TypeScript é…ç½®
- âœ… ä¾èµ–åŒ…å®‰è£…ï¼ˆTypeORM, JWT, bcrypt, class-validator ç­‰ï¼‰
- âœ… ç›®å½•ç»“æ„åˆ›å»º

### 2. æ•°æ®åº“è®¾è®¡
- âœ… PostgreSQL Schema è®¾è®¡ï¼ˆ`src/database/migrations/001_initial_schema.sql`ï¼‰
- âœ… 8 å¼ æ ¸å¿ƒè¡¨ï¼š
  - `users` - ç”¨æˆ·åŸºç¡€ä¿¡æ¯
  - `devices` - è®¾å¤‡ç®¡ç†ï¼ˆå¤šè®¾å¤‡åŒæ­¥ï¼‰
  - `refresh_tokens` - Refresh Token å­˜å‚¨
  - `records` - æƒ…ç»ªè®°å½•ï¼ˆå« JSONB å­—æ®µï¼‰
  - `weekly_insights` - å‘¨æ´å¯ŸæŠ¥å‘Š
  - `insight_reports` - æ´å¯ŸæŠ¥å‘Šç¼“å­˜
  - `sync_logs` - åŒæ­¥æ—¥å¿—
  - `ai_api_logs` - AI API è°ƒç”¨æ—¥å¿—
- âœ… ç´¢å¼•ä¼˜åŒ–ï¼ˆGIN ç´¢å¼•ã€å…¨æ–‡æœç´¢ç´¢å¼•ï¼‰
- âœ… è§¦å‘å™¨ï¼ˆè‡ªåŠ¨æ›´æ–° updated_atï¼‰

### 3. é…ç½®æ¨¡å—
- âœ… ç¯å¢ƒå˜é‡é…ç½®ï¼ˆ`.env`, `.env.example`ï¼‰
- âœ… æ•°æ®åº“é…ç½®ï¼ˆ`src/config/database.config.ts`ï¼‰
- âœ… JWT é…ç½®ï¼ˆ`src/config/jwt.config.ts`ï¼‰
- âœ… AI é…ç½®ï¼ˆ`src/config/ai.config.ts`ï¼‰

### 4. å·¥å…·ç±»
- âœ… åŠ å¯†å·¥å…·ï¼ˆ`src/utils/crypto.util.ts`ï¼‰
  - bcrypt å¯†ç åŠ å¯†/éªŒè¯
  - Token Hash ç”Ÿæˆ/éªŒè¯
- âœ… SSE å·¥å…·ï¼ˆ`src/utils/sse.util.ts`ï¼‰
  - æµå¼å“åº”åˆå§‹åŒ–
  - äº‹ä»¶å‘é€
  - é”™è¯¯å¤„ç†
- âœ… æ—¥æœŸå·¥å…·ï¼ˆ`src/utils/date.util.ts`ï¼‰
  - å‘¨èŒƒå›´è®¡ç®—
  - æ—¥æœŸæ ¼å¼åŒ–

### 5. è®¤è¯æ¨¡å— (Auth Module) - å®Œæ•´å®ç° âœ…

#### å®ä½“ç±»ï¼ˆEntitiesï¼‰
- âœ… `User` - ç”¨æˆ·å®ä½“
- âœ… `Device` - è®¾å¤‡å®ä½“
- âœ… `RefreshToken` - Refresh Token å®ä½“

#### DTOï¼ˆData Transfer Objectsï¼‰
- âœ… `RegisterDto` - æ³¨å†Œå‚æ•°éªŒè¯
- âœ… `LoginDto` - ç™»å½•å‚æ•°éªŒè¯
- âœ… `DeviceInfoDto` - è®¾å¤‡ä¿¡æ¯éªŒè¯

#### æ ¸å¿ƒæœåŠ¡ï¼ˆAuthServiceï¼‰
- âœ… ç”¨æˆ·æ³¨å†Œï¼ˆå«è®¾å¤‡åˆ›å»ºï¼‰
- âœ… ç”¨æˆ·ç™»å½•ï¼ˆå«å¤±è´¥é”å®šæœºåˆ¶ï¼š5 æ¬¡å¤±è´¥é”å®š 1 åˆ†é’Ÿï¼‰
- âœ… Access Token åˆ·æ–°
- âœ… ç™»å‡ºï¼ˆRefresh Token æ’¤é”€ï¼‰
- âœ… è®¾å¤‡ç®¡ç†ï¼ˆæŸ¥è¯¢/åˆ é™¤ï¼‰
- âœ… åŒ Token ç”Ÿæˆï¼ˆAccess Token 7å¤© + Refresh Token 30å¤©ï¼‰

#### æ§åˆ¶å™¨ï¼ˆAuthControllerï¼‰
- âœ… `POST /api/v1/auth/register` - æ³¨å†Œ
- âœ… `POST /api/v1/auth/login` - ç™»å½•
- âœ… `POST /api/v1/auth/refresh` - åˆ·æ–° Token
- âœ… `POST /api/v1/auth/logout` - ç™»å‡º
- âœ… `GET /api/v1/auth/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- âœ… `GET /api/v1/auth/devices` - è·å–è®¾å¤‡åˆ—è¡¨
- âœ… `DELETE /api/v1/auth/devices/:id` - åˆ é™¤è®¾å¤‡ï¼ˆè¿œç¨‹ç™»å‡ºï¼‰

#### å®‰å…¨æœºåˆ¶
- âœ… JWT è®¤è¯ç­–ç•¥ï¼ˆJwtStrategyï¼‰
- âœ… JWT å®ˆå«ï¼ˆJwtAuthGuardï¼‰
- âœ… å…¨å±€å®ˆå«åº”ç”¨
- âœ… å…¬å¼€æ¥å£è£…é¥°å™¨ï¼ˆ@Publicï¼‰
- âœ… å½“å‰ç”¨æˆ·è£…é¥°å™¨ï¼ˆ@CurrentUserï¼‰
- âœ… å¯†ç  bcrypt åŠ å¯†ï¼ˆcost=12ï¼‰
- âœ… ç™»å½•å¤±è´¥é”å®šæœºåˆ¶
- âœ… Refresh Token å¯æ’¤é”€

### 6. å…¨å±€é…ç½®
- âœ… å…¨å±€éªŒè¯ç®¡é“ï¼ˆDTO è‡ªåŠ¨éªŒè¯ï¼‰
- âœ… å…¨å±€è·¯ç”±å‰ç¼€ï¼ˆ`/api/v1`ï¼‰
- âœ… CORS é…ç½®
- âœ… é™æµæ¨¡å—ï¼ˆThrottlerModuleï¼‰
  - å…¨å±€é™æµï¼š100 æ¬¡/åˆ†é’Ÿ
  - AI API é™æµï¼š10 æ¬¡/åˆ†é’Ÿ
- âœ… å¥åº·æ£€æŸ¥ç«¯ç‚¹ï¼ˆ`GET /api/v1/health`ï¼‰

### 7. è®°å½•ç®¡ç†æ¨¡å—ï¼ˆRecords Moduleï¼‰- å®Œæ•´å®ç° âœ…

#### å®ä½“ç±»ï¼ˆEntitiesï¼‰
- âœ… `Record` - è®°å½•å®ä½“ï¼ˆå« JSONB å­—æ®µï¼‰
- âœ… `RecordType` æšä¸¾ï¼ˆquick_note, journal, weeklyï¼‰
- âœ… `ProcessingMode` æšä¸¾ï¼ˆmanual, ai_assistedï¼‰

#### DTOï¼ˆData Transfer Objectsï¼‰
- âœ… `CreateRecordDto` - åˆ›å»ºè®°å½•éªŒè¯
- âœ… `UpdateRecordDto` - æ›´æ–°è®°å½•éªŒè¯ï¼ˆå«ç‰ˆæœ¬å·ï¼‰
- âœ… `QueryRecordsDto` - æŸ¥è¯¢å‚æ•°éªŒè¯
- âœ… `NVCAnalysisDto` - NVC åˆ†ææ•°æ®ç»“æ„

#### æ ¸å¿ƒæœåŠ¡ï¼ˆRecordsServiceï¼‰
- âœ… CRUD æ“ä½œï¼ˆåˆ›å»º/è¯»å–/æ›´æ–°/åˆ é™¤ï¼‰
- âœ… ä¹è§‚é”æ›´æ–°ï¼ˆåŸºäº version å­—æ®µï¼‰
- âœ… å…¨æ–‡æœç´¢ï¼ˆåŸºäº PostgreSQL GIN ç´¢å¼•ï¼‰
- âœ… é«˜çº§æŸ¥è¯¢ï¼ˆæŒ‰ç±»å‹/æ—¥æœŸ/æƒ…ç»ª/éœ€æ±‚ç­›é€‰ï¼‰
- âœ… è½¯åˆ é™¤ï¼ˆdeleted_at å­—æ®µï¼‰
- âœ… åˆ†é¡µæ”¯æŒ

#### æ§åˆ¶å™¨ï¼ˆRecordsControllerï¼‰
- âœ… `POST /api/v1/records` - åˆ›å»ºè®°å½•
- âœ… `PATCH /api/v1/records/:id` - éƒ¨åˆ†æ›´æ–°è®°å½•
- âœ… `GET /api/v1/records` - åˆ†é¡µæŸ¥è¯¢è®°å½•
- âœ… `GET /api/v1/records/:id` - è·å–å•æ¡è®°å½•
- âœ… `DELETE /api/v1/records/:id` - è½¯åˆ é™¤è®°å½•
- âœ… `GET /api/v1/records/search` - å…¨æ–‡æœç´¢

### 8. AI ä»£ç†æ¨¡å—ï¼ˆAI Moduleï¼‰- éƒ¨åˆ†å®ç° âœ…

#### å®ä½“ç±»ï¼ˆEntitiesï¼‰
- âœ… `AiApiLog` - AI API è°ƒç”¨æ—¥å¿—ï¼ˆæˆæœ¬ç›‘æ§ï¼‰

#### æ ¸å¿ƒæœåŠ¡
- âœ… `CozeNvcService` - Coze NVC åˆ†æï¼ˆSSE æµå¼ï¼‰
- âš ï¸ `DoubaoAsrService` - Doubao ASR è½¬å½•ï¼ˆæš‚æœªå®ç°ï¼‰
- âš ï¸ `CozeInsightService` - Coze å‘¨æŠ¥ç”Ÿæˆï¼ˆæš‚æœªå®ç°ï¼‰

#### æ§åˆ¶å™¨ï¼ˆAiControllerï¼‰
- âœ… `POST /api/v1/ai/analyze-nvc` - NVC æƒ…ç»ªåˆ†æï¼ˆSSE æµå¼ï¼‰
- âš ï¸ Doubao ASR ç«¯ç‚¹ï¼ˆæš‚æœªå®ç°ï¼‰
- âš ï¸ å‘¨æŠ¥ç”Ÿæˆç«¯ç‚¹ï¼ˆæš‚æœªå®ç°ï¼‰

#### åŠŸèƒ½ç‰¹æ€§
- âœ… SSE æµå¼å“åº”ï¼ˆå®æ—¶è¿›åº¦æ¨é€ï¼‰
- âœ… API è°ƒç”¨æ—¥å¿—è®°å½•
- âœ… é™æµä¿æŠ¤ï¼ˆ10 æ¬¡/åˆ†é’Ÿï¼‰
- âœ… é”™è¯¯å¤„ç†å’Œé‡è¯•é€»è¾‘

### 9. æ•°æ®åŒæ­¥æ¨¡å—ï¼ˆSync Moduleï¼‰- å®Œæ•´å®ç° âœ…

#### å®ä½“ç±»ï¼ˆEntitiesï¼‰
- âœ… `SyncLog` - åŒæ­¥æ—¥å¿—ï¼ˆè¿½è¸ªæ‰€æœ‰åŒæ­¥æ“ä½œï¼‰
- âœ… `SyncOperation` æšä¸¾ï¼ˆpull, push, conflict_resolved, bulk_migrateï¼‰
- âœ… `SyncStatus` æšä¸¾ï¼ˆsuccess, failed, partialï¼‰

#### DTOï¼ˆData Transfer Objectsï¼‰
- âœ… `PullSyncDto` - å¢é‡æ‹‰å–å‚æ•°
- âœ… `PushSyncDto` - æ‰¹é‡æ¨é€å‚æ•°
- âœ… `ResolveConflictDto` - å†²çªè§£å†³å‚æ•°
- âœ… `BulkMigrateDto` - é¦–æ¬¡è¿ç§»å‚æ•°
- âœ… å®Œæ•´çš„å“åº”æ¥å£å®šä¹‰

#### æ ¸å¿ƒæœåŠ¡ï¼ˆSyncServiceï¼‰
- âœ… å¢é‡æ‹‰å–ï¼ˆåŸºäº lastSyncTimestampï¼‰
- âœ… æ‰¹é‡æ¨é€ï¼ˆå«ä¹è§‚é”å†²çªæ£€æµ‹ï¼‰
- âœ… å†²çªè§£å†³ï¼ˆ3 ç§ç­–ç•¥ï¼šserver_wins, client_wins, mergeï¼‰
- âœ… é¦–æ¬¡è¿ç§»ï¼ˆæ‰¹é‡å¯¼å…¥ï¼Œæ¯æ‰¹ 500 æ¡ï¼‰
- âœ… åŒæ­¥æ—¥å¿—è‡ªåŠ¨è®°å½•
- âœ… å˜æ›´åˆ†ç±»ï¼ˆcreated, updated, deletedï¼‰

#### æ§åˆ¶å™¨ï¼ˆSyncControllerï¼‰
- âœ… `GET /api/v1/sync/pull` - å¢é‡æ‹‰å–
- âœ… `POST /api/v1/sync/push` - æ‰¹é‡æ¨é€
- âœ… `POST /api/v1/sync/resolve-conflict` - æ‰‹åŠ¨è§£å†³å†²çª
- âœ… `POST /api/v1/sync/bulk-migrate` - é¦–æ¬¡è¿ç§»

#### å®‰å…¨æœºåˆ¶
- âœ… é™æµä¿æŠ¤ï¼ˆä¸åŒç«¯ç‚¹ä¸åŒé™åˆ¶ï¼‰
- âœ… ç”¨æˆ·æ•°æ®éš”ç¦»ï¼ˆè‡ªåŠ¨è¿‡æ»¤ userIdï¼‰
- âœ… è®¾å¤‡è¿½è¸ªï¼ˆX-Device-Id Headerï¼‰
- âœ… è¯¦ç»†çš„æ“ä½œæ—¥å¿—

### 10. éƒ¨ç½²é…ç½®
- âœ… Docker Composeï¼ˆPostgreSQL + pgAdminï¼‰
- âœ… å¤šé˜¶æ®µæ„å»º Dockerfile
- âœ… `.gitignore` é…ç½®
- âœ… README æ–‡æ¡£
- âœ… CLIENT_INTEGRATION_GUIDE.mdï¼ˆå®¢æˆ·ç«¯æ¥å…¥æ‰‹å†Œï¼‰

---

## å¾…å®ŒæˆåŠŸèƒ½ ğŸš§

### 1. è®°å½•ç®¡ç†æ¨¡å—ï¼ˆRecordsï¼‰ âœ…
- âœ… Record å®ä½“ç±»
- âœ… CRUD æ¥å£
- âœ… ä¹è§‚é”æ›´æ–°
- âœ… å…¨æ–‡æœç´¢
- âœ… æŒ‰ç±»å‹/æ—¥æœŸ/æƒ…ç»ªç­›é€‰

### 2. AI ä»£ç†æ¨¡å—ï¼ˆAI Proxyï¼‰ âœ…
- âš ï¸ Doubao ASR ä»£ç†ï¼ˆWebSocket â†’ SSEï¼‰- æš‚æœªå®ç°
- âœ… Coze NVC åˆ†æä»£ç†ï¼ˆSSE æµå¼ï¼‰
- âš ï¸ Coze å‘¨æŠ¥ç”Ÿæˆä»£ç†ï¼ˆSSE æµå¼ï¼‰- æš‚æœªå®ç°
- âœ… AI API æ—¥å¿—è®°å½•

### 3. æ•°æ®åŒæ­¥æ¨¡å—ï¼ˆSyncï¼‰ âœ…
- âœ… å¢é‡æ‹‰å–ï¼ˆPullï¼‰
- âœ… æ‰¹é‡æ¨é€ï¼ˆPushï¼‰
- âœ… å†²çªæ£€æµ‹ï¼ˆåŸºäº version å­—æ®µï¼‰
- âœ… å†²çªè§£å†³ï¼ˆ3 ç§ç­–ç•¥ï¼‰
- âœ… é¦–æ¬¡è¿ç§»ï¼ˆæ‰¹é‡å¯¼å…¥ï¼‰
- âœ… åŒæ­¥æ—¥å¿—è®°å½•

### 4. å‘¨æŠ¥æ´å¯Ÿæ¨¡å—ï¼ˆInsightsï¼‰
- [ ] Weekly Insight å®ä½“ç±»
- [ ] CRUD æ¥å£
- [ ] å‘¨æŠ¥ç”Ÿæˆé€»è¾‘

### 5. ç”¨æˆ·è®¾ç½®æ¨¡å—ï¼ˆSettingsï¼‰
- [ ] Settings å®ä½“ç±»
- [ ] è·å–/æ›´æ–°è®¾ç½®æ¥å£

### 6. Dockerfile âœ…
- âœ… å¤šé˜¶æ®µæ„å»º Dockerfile
- âœ… ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–

### 7. Sealos éƒ¨ç½²
- âš ï¸ Kubernetes YAML é…ç½® - å·²åœ¨è®¡åˆ’æ–‡æ¡£ä¸­
- âš ï¸ Secret é…ç½® - å·²åœ¨è®¡åˆ’æ–‡æ¡£ä¸­
- âš ï¸ Ingress é…ç½® - å·²åœ¨è®¡åˆ’æ–‡æ¡£ä¸­

### 8. å®¢æˆ·ç«¯æ¥å…¥æ‰‹å†Œ âœ…
- âœ… API æ–‡æ¡£è¯¦è§£
- âœ… Flutter æ”¹é€ æŒ‡å—
- âœ… æ•°æ®åŒæ­¥æµç¨‹è¯´æ˜

---

## é¡¹ç›®ç»Ÿè®¡

### å·²åˆ›å»ºæ–‡ä»¶
- é…ç½®æ–‡ä»¶ï¼š5 ä¸ª
- å®ä½“ç±»ï¼š7 ä¸ªï¼ˆUser, Device, RefreshToken, Record, AiApiLog, SyncLogï¼‰
- DTOï¼š11 ä¸ªï¼ˆAuth 3ä¸ªï¼ŒRecords 3ä¸ªï¼ŒAI 1ä¸ªï¼ŒSync 4ä¸ªï¼‰
- æœåŠ¡ç±»ï¼š4 ä¸ªï¼ˆAuthService, RecordsService, CozeNvcService, SyncServiceï¼‰
- æ§åˆ¶å™¨ï¼š4 ä¸ªï¼ˆAuthController, RecordsController, AiController, SyncControllerï¼‰
- ç­–ç•¥ç±»ï¼š1 ä¸ªï¼ˆJwtStrategyï¼‰
- å®ˆå«ï¼š1 ä¸ªï¼ˆJwtAuthGuardï¼‰
- è£…é¥°å™¨ï¼š2 ä¸ªï¼ˆ@CurrentUser, @Publicï¼‰
- å·¥å…·ç±»ï¼š3 ä¸ªï¼ˆCryptoUtil, SSEHelper, DateUtilï¼‰
- æ•°æ®åº“è„šæœ¬ï¼š1 ä¸ªï¼ˆ001_initial_schema.sqlï¼‰
- æ¨¡å—æ–‡ä»¶ï¼š5 ä¸ªï¼ˆAuthModule, RecordsModule, AiModule, SyncModule, AppModuleï¼‰
- éƒ¨ç½²æ–‡ä»¶ï¼š3 ä¸ªï¼ˆDockerfile, docker-compose.yml, .dockerignoreï¼‰
- æ–‡æ¡£æ–‡ä»¶ï¼š4 ä¸ªï¼ˆREADME.md, PROGRESS.md, CLIENT_INTEGRATION_GUIDE.md, è®¡åˆ’æ–‡æ¡£ï¼‰
- æ€»è®¡ï¼š**51 ä¸ªæ ¸å¿ƒæ–‡ä»¶**

### ä»£ç ç»Ÿè®¡
- TypeScript ä»£ç ï¼šçº¦ 4500 è¡Œ
- SQL ä»£ç ï¼šçº¦ 500 è¡Œ
- é…ç½®ä»£ç ï¼šçº¦ 300 è¡Œ
- æ–‡æ¡£ï¼šçº¦ 2500 è¡Œï¼ˆMarkdownï¼‰
- æ€»è®¡ï¼šçº¦ **7800 è¡Œä»£ç **

---

## ä¸‹ä¸€æ­¥è®¡åˆ’ï¼ˆå¯é€‰æ‰©å±•åŠŸèƒ½ï¼‰

### å¯é€‰åŠŸèƒ½ 1ï¼šå‘¨æŠ¥æ´å¯Ÿæ¨¡å—
é¢„è®¡ 1-2 å¤©å®Œæˆï¼š
1. åˆ›å»º WeeklyInsight å®ä½“ç±»
2. åˆ›å»º CRUD æ¥å£
3. é›†æˆ Coze å‘¨æŠ¥ç”Ÿæˆ API
4. å®ç°å‘¨æŠ¥æ•°æ®åŒæ­¥

### å¯é€‰åŠŸèƒ½ 2ï¼šç”¨æˆ·è®¾ç½®æ¨¡å—
é¢„è®¡ 0.5 å¤©å®Œæˆï¼š
1. åˆ›å»º Settings å®ä½“ç±»ï¼ˆJSONB å­˜å‚¨ï¼‰
2. å®ç°è·å–/æ›´æ–°è®¾ç½®æ¥å£
3. æ”¯æŒåº”ç”¨é”è®¾ç½®åŒæ­¥

### å¯é€‰åŠŸèƒ½ 3ï¼šDoubao ASR ä»£ç†
é¢„è®¡ 1 å¤©å®Œæˆï¼š
1. å®ç° WebSocket â†’ SSE è½¬æ¢
2. å¤„ç†äºŒè¿›åˆ¶åè®® v3
3. å®æ—¶éŸ³é¢‘æµè½¬å½•

### å¯é€‰åŠŸèƒ½ 4ï¼šç”Ÿäº§ç¯å¢ƒä¼˜åŒ–
é¢„è®¡ 1 å¤©å®Œæˆï¼š
1. æ·»åŠ  Redis ç¼“å­˜å±‚
2. å®ç°è¯·æ±‚æ—¥å¿—ä¸­é—´ä»¶
3. é…ç½® Prometheus ç›‘æ§
4. ç¼–å†™å•å…ƒæµ‹è¯•ï¼ˆè¦†ç›–ç‡ >80%ï¼‰

### å¯é€‰åŠŸèƒ½ 5ï¼šSealos å®é™…éƒ¨ç½²
é¢„è®¡ 0.5 å¤©å®Œæˆï¼š
1. åˆ›å»º Sealos é¡¹ç›®
2. éƒ¨ç½² PostgreSQL æ•°æ®åº“
3. éƒ¨ç½²åº”ç”¨é•œåƒ
4. é…ç½® Ingress å’Œ HTTPS
5. éªŒè¯æ‰€æœ‰ API ç«¯ç‚¹

---

## æµ‹è¯•è®¡åˆ’

### å•å…ƒæµ‹è¯•
- [ ] AuthService æµ‹è¯•ï¼ˆæ³¨å†Œ/ç™»å½•/åˆ·æ–°ï¼‰
- [ ] CryptoUtil æµ‹è¯•ï¼ˆåŠ å¯†/éªŒè¯ï¼‰
- [ ] DateUtil æµ‹è¯•ï¼ˆå‘¨èŒƒå›´è®¡ç®—ï¼‰

### E2E æµ‹è¯•
- [ ] è®¤è¯æµç¨‹æµ‹è¯•ï¼ˆæ³¨å†Œ â†’ ç™»å½• â†’ åˆ·æ–° â†’ ç™»å‡ºï¼‰
- [ ] å¤šè®¾å¤‡ç™»å½•æµ‹è¯•
- [ ] å†²çªæ£€æµ‹æµ‹è¯•

### æ€§èƒ½æµ‹è¯•
- [ ] å¹¶å‘ç™»å½•æµ‹è¯•ï¼ˆ100 ç”¨æˆ·ï¼‰
- [ ] æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½æµ‹è¯•
- [ ] AI API å“åº”æ—¶é—´æµ‹è¯•

---

## å·²çŸ¥é—®é¢˜ä¸æ³¨æ„äº‹é¡¹

1. âš ï¸ **æ•°æ®åº“æœªåˆå§‹åŒ–**ï¼šéœ€è¦æ‰‹åŠ¨æ‰§è¡Œ `001_initial_schema.sql` è„šæœ¬
2. âš ï¸ **ç¬¬ä¸‰æ–¹ API å¯†é’¥ç¼ºå¤±**ï¼šéœ€è¦é…ç½® Doubao/Coze API å¯†é’¥æ‰èƒ½ä½¿ç”¨ AI åŠŸèƒ½
3. âš ï¸ **å¯é€‰æ¨¡å—æœªå®ç°**ï¼š
   - WeeklyInsight å®ä½“å’Œæ¥å£ï¼ˆå‘¨æŠ¥åŠŸèƒ½ï¼‰
   - Settings æ¨¡å—ï¼ˆç”¨æˆ·è®¾ç½®åŒæ­¥ï¼‰
   - Doubao ASR ä»£ç†ï¼ˆè¯­éŸ³è½¬å½•ï¼‰
   - Coze å‘¨æŠ¥ç”Ÿæˆä»£ç†
4. âš ï¸ **ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–**ï¼š
   - ç¼ºå°‘ Redis ç¼“å­˜å±‚
   - ç¼ºå°‘è¯·æ±‚æ—¥å¿—ä¸­é—´ä»¶
   - ç¼ºå°‘ Prometheus ç›‘æ§
   - å•å…ƒæµ‹è¯•è¦†ç›–ç‡ä¸º 0%ï¼ˆæœªç¼–å†™æµ‹è¯•ï¼‰

---

## å¼€å‘ç¯å¢ƒè¦æ±‚

- Node.js >= 20.0.0
- PostgreSQL >= 14
- npm >= 9.0.0
- Dockerï¼ˆå¯é€‰ï¼Œç”¨äºæœ¬åœ°æ•°æ®åº“ï¼‰

---

## å¿«é€ŸéªŒè¯

å¯åŠ¨é¡¹ç›®å¹¶æµ‹è¯•å¥åº·æ£€æŸ¥ï¼š

```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. å¯åŠ¨ PostgreSQL (å¦‚æœä½¿ç”¨ Docker)
docker compose up -d postgres

# 3. æ‰§è¡Œæ•°æ®åº“åˆå§‹åŒ–
psql -h localhost -U postgres -d mindflow -f src/database/migrations/001_initial_schema.sql

# 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run start:dev

# 5. æµ‹è¯•å¥åº·æ£€æŸ¥
curl http://localhost:3000/api/v1/health
```

é¢„æœŸå“åº”ï¼š
```json
{
  "status": "ok",
  "timestamp": "2026-02-11T12:00:00.000Z",
  "service": "MindFlow Backend",
  "version": "1.0.0"
}
```

---

## è”ç³»ä¸åé¦ˆ

é¡¹ç›®åœ°å€ï¼šhttps://github.com/BinGess/Ocean-backend
